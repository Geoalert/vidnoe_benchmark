# Пилотный проект по геокодированию адресных баз (Почта России - Geoalert)

Содержит результаты проекта по тестированию алгоритмов автоматического выделения зданий по космосмникам (Geoalert Urban Mapping) и автоматическому геокодированию адресов.

Пилотный проект выполнялся в рамках реализации идеи интегрального адресного Реестра. В результате пилота удалось геокодировать 94% зданий, классифицированных как адресные объекты.

Данные
------

- vidnoe (GPKG) – пакетный файл со всеми результатами проекта в формате геоданных
- addresses (GPKG) - центроиды зданий с адресами по каждому источнику


Анализ материалов
-----------------

По результатам пилотного проекта опубликована статья -
["Исследование российских баз данных адресов на предмет их полноты и возможности автоматического сбора данных..."](https://medium.com/@geoalert/geocoding-post-94f05f40c4da)


Исследование проводилось по двум направлениям: 
- автоматическое выделение зданий по космоснимкам для внедрения в технологический процесс подготовки и создания адресных карт Почты России
- автоматический сбор адресов (обратное геокодирование) для контуров зданий с целью определения полноты и доступности адресов в открытых и коммерческих адресных реестрах

Бизнес исследование проводилось по оценке ускорения работы с использованием промежуточных автоматических результатов с целью доведения до необходимого качества картографического продукта.

#### Метрики качества

Результаты автоматической обработки брались в доработку картографами для доведения до продуктового качества и использовались в качестве эталона для сравнения. Эталон проверялся заказчиком на стороне Почты России.

Для оценки качества контуров зданий использовались стандартная метрика F1 сравнения двух масок, а также "Jaccard score" сравнения векторных контуров c порогом Inersection over Union > 0.5. Для оценки классификации по типам зданий - среднее F1 по маскам каждого класса. 


| Localization score | Jaccard score| Classification score |
| --- | --- | --- |
| 0.989| 0.934 | 0.906 |


![Наложение масок: автоматическая обработка VS картографическая обработка](https://i.ibb.co/k5tbH1D/vidnoe-masks.png)
<div style="text-align: center">Наложение масок: автоматическая обработка VS доработка картографами</div>

[Статистика по количеству объектов по классам - автомат Vs картографы](https://github.com/Geoalert/vidnoe_benchmark/blob/master/docs/Compare%20auto_vs_cartographer.pdf)


По автоматическому геокодированию проводилось сравнение результатов на основе различных источников.

| Источник | Провайдер|  Лицензия | Наличие координат | Наличие API|
| --- | --- | --- | --- | --- |
| Яндекс.Карты | Яндекс | Коммерческая | ✓ | ✓ |
| ГИС ЖКХ | Реформа ЖКХ | Открытые данные | | ✓ |
| ЕГРН | Росреестр | Открытые данные | ✓ | |
| OSM | Openstreetmap | Открытые данные | ✓  | ✓ |
| ЦХДПА | Почта | -- | | |

<img src="https://miro.medium.com/max/1400/1*55DtRvrkZ9LaIQ72Fbr8Ag.png" width="700"> 
<div style="text-align: center">Распределение количества адресов по источникам</div>


По результатам пилотного проекта опубликована статья -
["Исследование российских баз данных адресов на предмет их полноты и возможности автоматического сбора данных..."](https://medium.com/@geoalert/geocoding-post-94f05f40c4da)

Обновления
----------

(27.07.20) – По координатам центроидов зданий добавлены коды Plus codes [Open location code](https://en.wikipedia.org/wiki/Open_Location_Code)